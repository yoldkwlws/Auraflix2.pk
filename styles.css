:root {
    --main-color: #8A2BE2;
    --secondary-color: #6a0dad;
    --dark-color: #141414;
    --light-color: #e5e5e5;
    --nav-height: 60px;
}

/* RESET Y BLOQUEOS */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; -webkit-tap-highlight-color: transparent; touch-action: manipulation; }
body { background-color: var(--dark-color); color: var(--light-color); padding-bottom: calc(var(--nav-height) + 20px); overflow-x: hidden; }

header { position: fixed; top: 0; width: 100%; padding: 15px 4%; background: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, transparent 100%); z-index: 1000; display: flex; align-items: center; height: 60px; }
.logo { font-size: 24px; font-weight: 800; color: var(--main-color); text-transform: uppercase; letter-spacing: 1px; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }

/* --- HERO & LISTAS --- */
.hero { position: relative; height: 60vh; width: 100%; display: flex; align-items: flex-end; margin-bottom: 20px; }
.carousel-container, .carousel-slide, .carousel-slide img, .hero-gradient { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
.hero-gradient { background: linear-gradient(to top, var(--dark-color) 5%, transparent 60%); z-index: 1; pointer-events: none; }
.carousel-slide { display: none; } .carousel-slide.active { display: block; animation: fadeEffect 1s; }
.carousel-indicators { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; z-index: 3; }
.dot { width: 8px; height: 8px; background: rgba(255,255,255,0.4); border-radius: 50%; } .dot.active { background: var(--light-color); transform: scale(1.3); }

.section-title, .section-title-large { margin: 25px 4% 10px; color: #e5e5e5; font-weight: 600; }
.section-title-large { margin-top: 80px; font-size: 1.5rem; color: var(--main-color); border-bottom: 1px solid #333; padding-bottom: 10px; }

/* SCROLL HORIZONTAL */
.row.horizontal-scroll { display: flex; overflow-x: auto; padding: 0 4% 10px; gap: 10px; scrollbar-width: none; }
.row.horizontal-scroll::-webkit-scrollbar { display: none; }
.row.horizontal-scroll .item { min-width: 105px; width: 105px; flex: 0 0 auto; }

/* GRID */
.row.grid-layout { display: flex; flex-wrap: wrap; padding: 0 4%; gap: 10px; }
.row.grid-layout .item { width: calc(33.333% - 7px); margin-bottom: 15px; }
.item { position: relative; cursor: pointer; transition: transform 0.2s; }
.item:active { transform: scale(0.95); }
.item img { width: 100%; aspect-ratio: 2/3; object-fit: cover; border-radius: 6px; display: block; }
.item-title { font-size: 0.75rem; color: #aaa; margin-top: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* --- MODAL PANTALLA COMPLETA Y STICKY --- */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 2000; }

.modal-content {
    width: 100%;
    height: 100%;
    overflow-y: auto; /* Permite scroll vertical */
    background: #141414;
    position: relative;
    display: flex;
    flex-direction: column;
}

/* Contenedor del video que se pega arriba */
.sticky-video-wrapper {
    position: sticky; /* MAGIA: Se queda fijo */
    top: 0;
    width: 100%;
    z-index: 50; /* Por encima del texto */
    background: #000;
}

.video-container { position: relative; width: 100%; padding-top: 56.25%; background: black; }
.video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; }
.video-overlay-label { position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; pointer-events: none; }

/* Bot√≥n Regresar (Flecha Izquierda) */
.back-btn-modal {
    position: fixed; /* Fijo respecto a la pantalla, no al scroll */
    top: 15px;
    left: 15px;
    width: 40px;
    height: 40px;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 50%;
    color: white;
    font-size: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 100; /* Por encima del video */
    backdrop-filter: blur(4px);
}

.modal-info { padding: 20px; background: #141414; z-index: 40; position: relative; min-height: 100vh; }

.modal-title { font-size: 1.6rem; font-weight: bold; margin-bottom: 5px; color: white; }
.modal-meta { display: flex; gap: 10px; font-size: 0.9rem; color: #46d369; margin-bottom: 15px; font-weight: bold; }
.modal-desc { line-height: 1.5; color: #ccc; margin-bottom: 20px; font-size: 0.95rem; }
.hero-btn { width: 100%; padding: 12px; border: none; border-radius: 4px; font-weight: bold; font-size: 1rem; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; background: white; color: black; margin-bottom: 20px; }
.hero-btn:active { opacity: 0.8; }

/* SELECTOR TEMPORADAS */
.season-selector { margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 10px; }
.season-selector label { font-weight: bold; margin-right: 10px; color: #999; }
.season-selector select { background: #333; color: white; border: none; padding: 8px; border-radius: 4px; font-size: 1rem; }

.episodes-list { display: flex; flex-direction: row; gap: 12px; overflow-x: auto; padding: 10px 0 20px; scrollbar-width: none; }
.episode-button { 
    background: #2a2a2a; 
    border: 1px solid #444; 
    color: #fff; 
    min-width: 50px; 
    height: 50px; 
    border-radius: 8px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    font-size: 1.1rem; 
    font-weight: bold; 
    flex-shrink: 0;
}
.episode-button.active { background: var(--main-color); border-color: var(--main-color); box-shadow: 0 0 8px rgba(138, 43, 226, 0.6); }

/* SEARCH & NAV */
.search-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--dark-color); z-index: 2200; padding: 70px 4% 0; }
.search-box input { width: 100%; padding: 15px; background: #222; border: none; border-radius: 8px; color: white; font-size: 1.2rem; outline: none; }
.close-search { position: absolute; top: 20px; left: 20px; font-size: 20px; color: white; background: none; border: none; }

.bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: var(--nav-height); background: #121212; border-top: 1px solid #333; display: flex; justify-content: space-around; align-items: center; z-index: 1500; }
.nav-item { display: flex; flex-direction: column; align-items: center; color: #888; text-decoration: none; font-size: 0.7rem; flex: 1; }
.nav-item i { font-size: 1.3rem; margin-bottom: 4px; }
.nav-item.active { color: white; }
.nav-item.active i { color: var(--main-color); }
.hidden { display: none !important; }

@keyframes fadeEffect { from { opacity: 0.4; } to { opacity: 1; } }
