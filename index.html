<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Auraflix+</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">AURAFLIX+</div>
    </header>

    <div id="mainContent">
        <div id="view-home">
            <section id="hero" class="hero">
                <div class="carousel-container"></div>
                <div class="hero-gradient"></div>
                <div id="heroDots" class="carousel-indicators"></div>
            </section>

            <div id="continueWatchingContainer" class="hidden">
                <h2 class="section-title">Continuar viendo</h2>
                <div id="continueWatching" class="row horizontal-scroll"></div>
            </div>

            <h2 class="section-title">Recién agregadas</h2>
            <div id="newlyAddedRow" class="row horizontal-scroll"></div>

            <h2 class="section-title">Películas Destacadas</h2>
            <div id="homeMoviesRow" class="row grid-layout"></div>

            <h2 class="section-title">Series Destacadas</h2>
            <div id="homeSeriesRow" class="row grid-layout"></div>
        </div>

        <div id="view-movies" class="hidden full-page-view">
            <h2 class="section-title-large">Todas las Películas</h2>
            <div id="allMoviesGrid" class="row grid-layout"></div>
        </div>

        <div id="view-series" class="hidden full-page-view">
            <h2 class="section-title-large">Todas las Series</h2>
            <div id="allSeriesGrid" class="row grid-layout"></div>
        </div>
    </div>

    <div id="videoModal" class="modal">
        <div class="modal-content">
            <button id="closeModal" class="close-modal"><i class="fas fa-times"></i></button>
            <div id="modalContentPlayer"></div>
            <div class="modal-info">
                <h3 id="modalTitle" class="modal-title"></h3>
                <div class="modal-meta">
                    <span id="modalYear" class="modal-year"></span>
                    <span id="modalType" class="modal-type"></span>
                </div>
                <div class="modal-actions">
                    <button id="modalActionBtn" class="hero-btn info"><i class="fas fa-film"></i> Ver Tráiler</button>
                </div>
                <p id="modalDesc" class="modal-desc"></p>
                <div id="seriesEpisodeSelector" class="hidden">
                    <div class="season-selector">
                        <label>Capítulos:</label>
                        <select id="modalSeasonSelect"></select>
                    </div>
                    <div id="modalEpisodesContainer" class="episodes-list"></div>
                </div>
                <h3 class="modal-subtitle">Recomendados</h3>
                <div id="modalRecommendations" class="row grid-layout recommendations-grid"></div>
            </div>
        </div>
    </div>

    <div id="searchOverlay" class="search-overlay">
        <button id="closeSearch" class="close-search"><i class="fas fa-times"></i></button>
        <div class="search-box">
            <input id="searchInput" type="text" placeholder="Buscar título...">
        </div>
        <div id="searchResults" class="row grid-layout"></div>
    </div>

    <nav class="bottom-nav">
        <a href="#" id="nav-home" class="nav-item active"><i class="fas fa-home"></i> Inicio</a>
        <a href="#" id="nav-movies" class="nav-item"><i class="fas fa-film"></i> Películas</a>
        <a href="#" id="nav-series" class="nav-item"><i class="fas fa-tv"></i> Series</a>
        <a href="#" id="nav-search" class="nav-item"><i class="fas fa-search"></i> Buscar</a>
    </nav>

    <script>
        window.allContentSequence = [];
        window.moviesList = [];
        window.seriesList = [];

        // Esta función captura cada vez que un script añade algo y lo guarda en orden de llegada
        function interceptPush(array, name) {
            const originalPush = array.push;
            array.push = function(...items) {
                // Añadimos al array original (moviesList o seriesList)
                const result = originalPush.apply(this, items);
                // Añadimos TAMBIÉN a nuestra lista de secuencia maestra
                window.allContentSequence.push(...items);
                return result;
            };
        }
        interceptPush(window.moviesList, 'movies');
        interceptPush(window.seriesList, 'series');
    </script>

    <script src="itserie.js"></script>
    <script src="strangerthings.js"></script>
    <script src="hermanastrafea.js"></script>
    <script src="dracula.js"></script>
    <script src="conjuro4.js"></script>
    <script src="telefononegro2.js"></script>
    <script src="nightsfreddy.js"></script> 
    
    <script src="script.js"></script>
</body>
</html>
